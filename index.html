<!DOCTYPE HTML>
<html>
    <head>
        <title>Вирус и точка</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
        <link rel="stylesheet" href="./dist/app.css" />
        <link rel="icon" href="./dist/assets/virus.png" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    </head>

    <body class="d-flex">
        <div id="chartModal" class="modal mt-7 fade" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    <div>
                        <button class="btn" onclick="game.showChart('healthy')">
                            Здоровые
                        </button>
                        <button class="btn" onclick="game.showChart('infected')">
                            Инфицированные
                        </button>
                        <button class="btn" onclick="game.showChart('immune')">
                            Иммунные
                        </button>
                        <button class="btn" onclick="game.showChart('spreadRate')">
                            Скорость распространения
                        </button>
                        <canvas id="chart"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-xl d-flex align-items-center">
            <div class="canvas-wrapper">
                <canvas class="canvas" id="canvas" width="600" height="600">
                    Если вы можете прочитать это, значит, ваш браузер не поддерживает canvas.
                </canvas>
            </div>
            <div class="actions align-items-center">
                <button class="btn btn-success mt-2 w-50" onclick="game.start()">
                    Старт
                </button>
                <button class="btn btn-danger mt-2 w-50" onclick="game.stop()">
                    Стоп
                </button>
                <button class="btn btn-secondary mt-2 w-50" onclick="{game.reset();}">
                    Очистить
                </button>
                <button class="btn btn-primary  mt-2 w-50" data-bs-toggle="modal" data-bs-target="#chartModal">
                    Графики
                </button>
                <div class="d-flex w-50 row mt-2 mb-3">
                    <label for="timeout" class="label mt-3">
                        Введите таймаут обновления:
                    </label>
                    <input id="timeout" class="form-control" type="number" min="0.1" max="5" step="0.1" value="0.1" />

                    <label for="area-size" class="label mt-3">
                        Введите нечетное число n (от 3 до 111):
                    </label>
                    <input id="area-size" class="form-control" type="number" min="3" max="111" step="1" value="21" />

                    <label for="infection-probability" class="label mt-3" style="width: 300px;">
                        Введите вероятность заражения (от 0 до 1):
                    </label>
                    <input id="infection-probability" class="form-control" type="number" min="0" max="1" step="0.01" value="0.5" />
                </div>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
            crossorigin="anonymous"></script>
        <script src="./dist/main.js"></script>
        <script>
            const game = window["game"];
        </script>
    </body>
</html>